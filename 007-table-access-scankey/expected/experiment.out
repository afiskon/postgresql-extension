CREATE EXTENSION experiment;
SELECT phonebook_find_first_null_phone();
 phonebook_find_first_null_phone 
---------------------------------
                              -1
(1 row)

SELECT phonebook_find_first_notnull_phone();
 phonebook_find_first_notnull_phone 
------------------------------------
                                 -1
(1 row)

INSERT INTO phonebook (id, name, phone) VALUES
(1, 'Alice', 123456),
(2, 'Bob', NULL);
SELECT phonebook_lookup_seqscan_deform('Alice');
 phonebook_lookup_seqscan_deform 
---------------------------------
                          123456
(1 row)

SELECT phonebook_lookup_seqscan_deform('Bob');
 phonebook_lookup_seqscan_deform 
---------------------------------
                                
(1 row)

SELECT phonebook_lookup_seqscan_deform('Bob') IS NULL AS "is_null";
 is_null 
---------
 t
(1 row)

SELECT phonebook_find_first_null_phone();
 phonebook_find_first_null_phone 
---------------------------------
                               2
(1 row)

SELECT phonebook_find_first_notnull_phone();
 phonebook_find_first_notnull_phone 
------------------------------------
                                  1
(1 row)

DROP EXTENSION experiment;
